<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Big Oles Financial - Get Your Free Quote</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
    header { background: url('https://images.unsplash.com/photo-1607746882042-944635dfe10e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') center/cover no-repeat; color:white; text-align:center; padding:80px 20px; }
    header h1 { font-size:2.5em; margin:0; text-shadow:2px 2px 4px rgba(0,0,0,0.7); }
    header p { font-size:1.2em; text-shadow:1px 1px 3px rgba(0,0,0,0.6); }
    main { max-width:600px; margin:30px auto; background:white; padding:30px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    form label { display:block; margin-top:15px; font-weight:bold; }
    form input, form select { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; }
    form button { margin-top:20px; width:100%; padding:12px; border:none; background:#007BFF; color:white; font-size:16px; font-weight:bold; border-radius:5px; cursor:pointer; }
    form button:hover { background:#0056b3; }
    footer { text-align:center; margin:30px 0; font-size:0.9em; color:#777; }

    /* âœ… Success Modal Styles */
    .modal {
      display: none; 
      position: fixed; 
      z-index: 1000; 
      left: 0; top: 0; 
      width: 100%; height: 100%; 
      background: rgba(0,0,0,0.5); 
      justify-content: center; 
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      animation: fadeIn 0.3s ease-in-out;
    }
    .modal-content h2 { color: #28a745; margin-bottom: 15px; }
    .modal-content p { color: #333; margin-bottom: 20px; }
    .modal-content button {
      background: #007BFF;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    .modal-content button:hover { background: #0056b3; }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>
  <header>
    <h1>Protect What Matters Most</h1>
    <p>Affordable Life Insurance Plans for Families</p>
  </header>

  <main>
    <h2>Get Your Free Quote</h2>
    <form id="quoteForm">
      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" required>

      <label for="age">Age</label>
      <input type="number" id="age" name="age" min="18" max="120" required>

      <label for="email">Email</label>
      <input type="email" id="email" name="email" required>

      <label for="phone">Phone Number (10 digits)</label>
      <input type="tel" id="phone" name="phone" pattern="\d{10}" maxlength="10" required>

      <label for="state">State</label>
      <select id="state" name="state" required>
        <option value="">-- Select Your State --</option>
        <option value="AL">Alabama</option>
        <option value="AK">Alaska</option>
        <option value="AZ">Arizona</option>
        <option value="AR">Arkansas</option>
        <option value="CA">California</option>
        <option value="CO">Colorado</option>
        <option value="CT">Connecticut</option>
        <option value="DE">Delaware</option>
        <option value="FL">Florida</option>
        <option value="GA">Georgia</option>
        <option value="HI">Hawaii</option>
        <option value="ID">Idaho</option>
        <option value="IL">Illinois</option>
        <option value="IN">Indiana</option>
        <option value="IA">Iowa</option>
        <option value="KS">Kansas</option>
        <option value="KY">Kentucky</option>
        <option value="LA">Louisiana</option>
        <option value="ME">Maine</option>
        <option value="MD">Maryland</option>
        <option value="MA">Massachusetts</option>
        <option value="MI">Michigan</option>
        <option value="MN">Minnesota</option>
        <option value="MS">Mississippi</option>
        <option value="MO">Missouri</option>
        <option value="MT">Montana</option>
        <option value="NE">Nebraska</option>
        <option value="NV">Nevada</option>
        <option value="NH">New Hampshire</option>
        <option value="NJ">New Jersey</option>
        <option value="NM">New Mexico</option>
        <option value="NY">New York</option>
        <option value="NC">North Carolina</option>
        <option value="ND">North Dakota</option>
        <option value="OH">Ohio</option>
        <option value="OK">Oklahoma</option>
        <option value="OR">Oregon</option>
        <option value="PA">Pennsylvania</option>
        <option value="RI">Rhode Island</option>
        <option value="SC">South Carolina</option>
        <option value="SD">South Dakota</option>
        <option value="TN">Tennessee</option>
        <option value="TX">Texas</option>
        <option value="UT">Utah</option>
        <option value="VT">Vermont</option>
        <option value="VA">Virginia</option>
        <option value="WA">Washington</option>
        <option value="WV">West Virginia</option>
        <option value="WI">Wisconsin</option>
        <option value="WY">Wyoming</option>
      </select>

      <div id="recaptcha-container"></div>

      <label for="verificationCode">Verification Code</label>
      <input type="text" id="verificationCode" placeholder="Enter code after SMS">

      <button type="button" id="sendCodeBtn">Send Code</button>
      <button type="button" id="verifyBtn">Verify & Submit</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 Big Oles Financial</p>
  </footer>

  <!-- âœ… Success Modal -->
  <div class="modal" id="successModal">
    <div class="modal-content">
      <h2>âœ… Success!</h2>
      <p>Your information has been submitted. An agent will contact you within 24 hours.</p>
      <button id="closeModal">OK</button>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    // ðŸ”¹ Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyD5MUrEfk3LoOsIUcACzqjItyuyvkdXT7g",
      authDomain: "big-oles-financial.firebaseapp.com",
      projectId: "big-oles-financial",
      storageBucket: "big-oles-financial.firebasestorage.app",
      messagingSenderId: "360749179189",
      appId: "1:360749179189:web:7dbf3605774b7bb7aaec7c"
    };
    firebase.initializeApp(firebaseConfig);

    let recaptchaVerifier;
    let confirmationResult;

    function setupRecaptcha() {
      if (!recaptchaVerifier) {
        recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', { size: 'invisible' });
        recaptchaVerifier.render();
      }
    }

    document.getElementById("sendCodeBtn").addEventListener("click", () => {
      setupRecaptcha();
      const phone = document.getElementById("phone").value;
      if (phone.length !== 10) { alert("Please enter a valid 10-digit phone number."); return; }

      firebase.auth().signInWithPhoneNumber("+1" + phone, recaptchaVerifier)
        .then(result => { confirmationResult = result; alert("âœ… Code sent to your phone."); })
        .catch(error => { console.error("Error sending code:", error); alert("Error sending code: " + error.message); });
    });

    document.getElementById("verifyBtn").addEventListener("click", () => {
      const code = document.getElementById("verificationCode").value;
      if (!confirmationResult) { alert("Please request a code first."); return; }

      confirmationResult.confirm(code)
        .then(() => {
          const payload = {
            name: document.getElementById("name").value,
            age: document.getElementById("age").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value,
            state: document.getElementById("state").value
          };

          fetch("https://script.google.com/macros/s/AKfycbxTvS6IZvYYR5NhleYVNeH3SlF-1ip3GO97ePuf4tnzozaswMpmw0Q9QnjHaErxOSR6KA/exec", { // replace with your Apps Script Web App URL
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          })
          .then(() => {
            document.getElementById("successModal").style.display = "flex";
            document.getElementById("quoteForm").reset();
          })
          .catch(error => { console.error("Error submitting data:", error); alert("Error submitting data. Please try again."); });
        })
        .catch(error => { console.error("Error verifying code:", error); alert("Invalid code. Please try again."); });
    });

    document.getElementById("closeModal").addEventListener("click", () => {
      document.getElementById("successModal").style.display = "none";
    });
  </script>
</body>
</html>
